{
  "name": "Somnia Noir Dev",
  "build": {
    "context": ".",
    "dockerfile": "Dockerfile"
  },
  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {
      "version": "latest",
      "enableNonRootDocker": "true",
      "moby": "true"
    }
  },
  "customizations": {
    "vscode": {
      "settings": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.organizeImports": "explicit"
        },
        "files.trimTrailingWhitespace": true
      },
      "extensions": [
        // üõ°Ô∏è CORE: Noir Language Support
        "noir-lang.vscode-noir",
        // üöÄ QoL: TOML support is essential for Nargo.toml files
        "tamasfe.even-better-toml",
        // üê≥ DOCKER: Since you are using DinD, the Docker extension is helpful
        "ms-azuretools.vscode-docker"
      ]
    }
  },
  // üß† SMART TIP: Define what user the container runs as. 
  // If your Dockerfile uses the 'node' user, uncomment below:
  // "remoteUser": "node",
  
  // Optional: Run a command after the container is created (e.g., check noir version)
  "postCreateCommand": "echo 'Container Ready!'"
}
